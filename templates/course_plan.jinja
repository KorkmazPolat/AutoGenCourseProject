Create a course plan with modules and lessons based on the following learning outcomes:
{{ learning_outcomes | tojson }}

{% if num_modules %}
Strictly create exactly {{ num_modules }} modules.
{% endif %}

{% if num_lessons %}
Strictly create exactly {{ num_lessons }} lessons per module.
{% endif %}

{% if feedback %}
The previous plan was rejected with the following feedback:
{{ feedback }}

Here is the previous plan that was rejected:
{{ previous_plan | tojson }}

Please improve the plan based on the feedback.
{% endif %}

Output JSON ONLY that conforms to the CoursePlan schema:
{
  "title": "Course Title",
  "modules": [
    {
      "title": "Module Title",
      "lessons": ["Lesson 1", "Lesson 2"]
    }
  ]
}

